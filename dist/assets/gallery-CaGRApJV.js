function s(){const t=document.getElementById("imageModal");if(!t)return;const o=document.getElementById("modalImage"),n=document.getElementById("caption"),a=document.querySelector("#imageModal .close");function c(){t.style.display="none";const e=t.querySelector("video");e&&(e.pause(),e.remove()),n.innerHTML=""}document.querySelectorAll(".gallery-item").forEach(e=>{e.addEventListener("click",function(){if(t.style.display="block",this.classList.contains("video-item")){const l=this.getAttribute("data-video");o.style.display="none";const d=t.querySelector("video");d&&d.remove();const i=document.createElement("video");i.src=l,i.controls=!0,i.autoplay=!0,i.style.width="100%",i.style.maxHeight="80vh",o.parentNode.insertBefore(i,o),n.innerHTML=this.getAttribute("data-caption"),i.addEventListener("ended",function(){c()})}else o.style.display="block",o.src=this.getAttribute("data-img"),n.innerHTML=this.getAttribute("data-caption")})}),a&&(a.onclick=c),window.addEventListener("click",function(e){e.target==t&&closeImageMceModal()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&t.style.display==="block"&&c()})}export{s as initializeGallery};
